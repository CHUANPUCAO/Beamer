% !TEX root = example/example.tex

\mode<presentation>

% Requirement
\RequirePackage{tikz}

\usetikzlibrary{positioning}

% Settings
\useinnertheme{ucla}
\useoutertheme{ucla}
\usecolortheme{ucla}
\usefonttheme{ucla}

\setbeamertemplate{navigation symbols}{}
\setbeamertemplate{blocks}[rounded][shadow=true]  




% Title page lengths:
\newlength{\titlepageHeaderHeight}
\setlength{\titlepageHeaderHeight}{3mm}

\newlength{\titlepageFooterHeight}
\setlength{\titlepageFooterHeight}{7mm}

\newlength{\titlepageBarHeight}
\setlength{\titlepageBarHeight}{1.5mm}



\newcommand{\insertLocation}[0]{Location}
\newcommand{\location}[1]{\renewcommand{\insertLocation}[0]{#1}}


\setbeamersize{text margin left=.5cm, text margin right=.5cm} 

% Title page
\defbeamertemplate*{title page}{ucla}[1][]
{
	\begin{tikzpicture}
	\useasboundingbox (0,0) rectangle (\textwidth,\textheight);
	
	\node[draw=uclaBlueDark, very thick, rounded corners=10pt,
		  align=center,
		  text width=0.75\textwidth]
		at (0.5\textwidth, 0.5\textheight)
		{The command \texttt{\textbackslash titlepage} is not supported\\[1.0em]
		Use the command \texttt{\textbackslash insertTitleSlide} instead.\\
		This command does not go in a frame environment.};
	
	\end{tikzpicture}
	
}




% Title page command and background:
\newcommand{\insertTitleSlide}{
{
	% Change the background:
	\setbeamertemplate{background}{
	\begin{tikzpicture}
		\useasboundingbox (0,0) rectangle (\the\paperwidth,\the\paperheight);
		
		% Header:
		\fill[color=uclaBlueDark] 
			(0,\paperheight-\titlepageHeaderHeight) rectangle (\paperwidth,\paperheight);
			
		% Footer:
		\fill[color=uclaBlueDark] 
						(0,0) rectangle (\paperwidth,\titlepageFooterHeight);
						
		% Logo:
		\node[left] at (0.99\paperwidth,0.5\titlepageFooterHeight)
			{\includegraphics[height=0.75\titlepageFooterHeight]{logo-ucla-white}};
			
		% Gold bar:
		\node[fill=uclaGoldDark, 
			  minimum width=\textwidth, 
			  minimum height=\titlepageBarHeight,
			  inner sep=0pt] 
			(titleBar) at (0.5\paperwidth, 0.5\paperheight) {};
			
		% Title:
		\node[align=left, 
			  text width=\textwidth, 
			  anchor=south, 
			  above=0.0 of titleBar, 
			  font={\usebeamercolor[fg]{title}\usebeamerfont{title}}] 
			(title) {\inserttitle\par};
			
		% Author:
		\node[align=left, 
			  text width=\textwidth, 
			  anchor=north, 
			  below=0.0 of titleBar] 
			(author) {\insertauthor};
			
		% Date:
		\node[align=left, 
			  text width=\textwidth, 
			  anchor=north, 
			  below=0.0 of author] 
			(date) {\insertdate};
			
		% Location:
		\node[text width=\textwidth, 
			  anchor=south west,
			  font={\usebeamercolor[fg]{location}\usebeamerfont{location}}] 
			at (0.0,0.0) {\insertLocation};
	\end{tikzpicture}
	}
	
	\begin{frame}
	
	\end{frame}
}
}

% TODO:: make a new environment calls "titleframe"
% It will draw the entire title page and allow things to be placed on top of it. 

\mode<all>